apiVersion: apps/v1
kind: Deployment
metadata:
 name: {{ .Values.name }}
 labels:
   app: {{ .Values.name }}
spec:
 replicas: {{ .Values.replicaCount }}
 selector:
   matchLabels:
     app: {{ .Values.name }}
 template:
   metadata:
     labels:
       app: {{ .Values.name }}
   spec:
     containers:
       - name: {{ .Chart.Name }}
         image: {{ .Chart.Image }}
         ports:
           - containerPort: {{ .Values.containerPort }}
--- 
apiVersion: v1
kind: Service
metadata:
 name: {{.values.name}}
spec:
 type: {{ .Values.service.type }}
 selector:
   app: {{ .Values.name }}
 ports:
 - port: {{ .Values.service.port }}
   targetPort: {{ .Values.service.targetport }}
   nodePort: {{ .Values.service.Nodeport }}
---
